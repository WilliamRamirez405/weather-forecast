<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Forecast</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #1e3c72, #2a5298);
      color: #fff;
      text-align: center;
    }
    h1 {
      margin-top: 30px;
      font-size: 3em;
      color: #ffdd57;
    }
    select, button {
      margin: 20px;
      padding: 10px;
      font-size: 1.1em;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #ffdd57;
      cursor: pointer;
    }
    .forecast-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 40px auto;
      max-width: 1200px;
    }
    .forecast-card {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px;
      width: 200px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .emoji {
      font-size: 3em;
    }
  </style>
</head>
<body>
  <h1>🌤️ Weather Forecast</h1>
  <label for="city">Choose a city:</label>
  <select id="city">
    <option value="London">London</option>
    <option value="Paris">Paris</option>
    <option value="Berlin">Berlin</option>
    <option value="Madrid">Madrid</option>
    <option value="Rome">Rome</option>
    <option value="New York">New York</option>
    <option value="Tokyo">Tokyo</option>
    <option value="Bogota">Bogotá</option>
    <option value="Vancouver">Vancouver</option>
    <option value="Toronto">Toronto</option>
  </select>
  <button onclick="getForecast()">Get Forecast</button>

  <div class="forecast-container" id="forecast"></div>

  <script>
    async function getForecast() {
      const city = document.getElementById("city").value;
      const forecastDiv = document.getElementById("forecast");
      forecastDiv.innerHTML = "Loading...";

      const coords = {
        London: { lat: 51.5072, lon: -0.1276 },
        Paris: { lat: 48.8566, lon: 2.3522 },
        Berlin: { lat: 52.52, lon: 13.405 },
        Madrid: { lat: 40.4168, lon: -3.7038 },
        Rome: { lat: 41.9028, lon: 12.4964 },
        "New York": { lat: 40.7128, lon: -74.0060 },
        Tokyo: { lat: 35.6895, lon: 139.6917 },
        Bogota: { lat: 4.7110, lon: -74.0721 },
        Vancouver: { lat: 49.2827, lon: -123.1207 },
        Toronto: { lat: 43.6532, lon: -79.3832 }
      };

      const { lat, lon } = coords[city];

      try {
        const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min,weathercode&timezone=auto`);
        const data = await res.json();

        const days = data.daily.time;
        const tempsMin = data.daily.temperature_2m_min;
        const tempsMax = data.daily.temperature_2m_max;
        const codes = data.daily.weathercode;

        const emojis = {
          0: "☀️", 1: "🌤️", 2: "⛅", 3: "☁️", 45: "🌫️", 48: "🌫️",
          51: "🌦️", 61: "🌧️", 63: "🌧️", 65: "🌧️", 71: "🌨️",
          80: "🌦️", 95: "⛈️", 96: "⛈️"
        };

        forecastDiv.innerHTML = "";

        for (let i = 0; i < 5; i++) {
          forecastDiv.innerHTML += `
            <div class="forecast-card">
              <h3>${new Date(days[i]).toDateString()}</h3>
              <div class="emoji">${emojis[codes[i]] || "❓"}</div>
              <p>Max: ${tempsMax[i]}°C</p>
              <p>Min: ${tempsMin[i]}°C</p>
            </div>
          `;
        }
      } catch (error) {
        forecastDiv.innerHTML = "Could not fetch forecast.";
        console.error(error);
      }
    }
  </script>
</body>
</html>